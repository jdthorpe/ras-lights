"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[199],{37199:function(e,n,t){t.r(n);var r=t(78464),a=t(25571),u=t(18487),i=t(41004),o=t(32951),c=t.n(o),s=t(74812),f=t(26494),d=t(92591),p=t(38639),l={dropdown:{width:300}};n.default=function(){var e=(0,s.useState)([]),n=(0,i.Z)(e,2),t=n[0],o=n[1],h=(0,s.useState)(),x=(0,i.Z)(h,2),b=x[0],k=x[1],m=(0,s.useState)(),v=(0,i.Z)(m,2),y=v[0],w=v[1],g=(0,s.useState)(),Z=(0,i.Z)(g,2),j=Z[0],S=Z[1];(0,s.useEffect)((function(){var e=!1;return(0,u.Z)(c().mark((function n(){var t,u,s,f,d,p,l,h,x,b;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"!==typeof y){n.next=32;break}return n.next=3,fetch("/api/mode/",{method:"GET",cache:"no-cache"});case 3:if(t=n.sent,!e){n.next=6;break}return n.abrupt("return");case 6:return n.next=8,fetch("/api/ctl/");case 8:if(u=n.sent,!e){n.next=11;break}return n.abrupt("return");case 11:return n.prev=11,n.next=14,u.json();case 14:if(s=n.sent,!e){n.next=17;break}return n.abrupt("return");case 17:return n.next=19,t.json();case 19:if(f=n.sent,!e){n.next=22;break}return n.abrupt("return");case 22:if(w(f),d=f.map((function(e){return{key:e.name,text:e.name}})),o(d),"string"===typeof s.mode)if((p=f.findIndex((function(e){return e.name===s.mode})))>=0){if((l=(0,a.Z)({},f[p])).ui)for(l.ui=(0,r.Z)(l.ui),h=function(){var e=(0,i.Z)(b[x],2),n=e[0],t=e[1],r=l.ui.findIndex((function(e){return e.key===n}));void 0!==typeof r&&(l.ui[r]=(0,a.Z)((0,a.Z)({},l.ui[r]),{},{default:t}))},x=0,b=Object.entries(s.updates);x<b.length;x++)h();S(l),k(d[p].key)}else console.log("unknown mode ".concat(s.mode));n.next=32;break;case 28:n.prev=28,n.t0=n.catch(11),console.log('fetch("/api/mode/").json() failed with',n.t0),console.log("This usually means the app is running on a dev box without beign proxied via /nginx-dev.conf");case 32:case"end":return n.stop()}}),n,null,[[11,28]])})))(),function(){e=!0}}),[y,w]);var C=(0,s.useCallback)(function(){var e=(0,u.Z)(c().mark((function e(n,t,r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y&&t&&"number"===typeof r&&(fetch("/api/mode/".concat(t.key)),S(y[r]),k(t.key));case 1:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),[y]);return(0,p.jsxs)("div",{style:{margin:"1.5rem"},children:[(0,p.jsx)(f.L,{placeholder:"Select a Light Mode",label:"Light Mode",selectedKey:b,options:t,styles:l,onChange:C}),j&&j.ui&&(0,p.jsx)(d.UI,{ui:j.ui})]})}}}]);
//# sourceMappingURL=199.c59032f3.chunk.js.map